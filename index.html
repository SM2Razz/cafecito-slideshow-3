<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Nunito&display=swap" rel="stylesheet">
  <link rel="icon" type="image/x-icon" href="./images/favicon.ico">
  <!-- 
    FOR SOME REASON GH Pages does NOT expect type="text/css", but the local file server does??
    BTW also the images will vanish if the CSS can not be detected
    <link rel="stylesheet" type=“text/css” href="styles.css">
  -->
  <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
  <title>Razz Devs</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      height:100%;
      background-color: black;
      box-sizing: border-box;
    }
    * {
      box-sizing: border-box;
    }
    #app {
      height: 100vh;
      width: 100vw;
      color: white;
      margin: 0;
      padding: 30px;
      box-sizing: border-box;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      font-family: Nunito, sans-serif;
    }
    .page-title {
      color: hotpink;
      font-size: 36px;
      font-weight: bold;
      margin-bottom: 15px;
    }
    .name-buttons-parent {
      margin-bottom: 10px;
    }
    .name-button {
      color: white;
      background-color: mediumvioletred;
      font-family: Nunito, sans-serif;
      border: none;
      border-radius: 10px;
      padding: 10px;
      font-size: 18px;
      margin: 5px;
      text-transform: capitalize;
    }
    .name-button:hover {
      color: black;
      cursor: pointer;
      background-color: #993366;
    }
    .active-button {
      border: 2px solid pink;
      background-color: #993366;
    }
    .gallery-parent {
      height: 100%;
    }
    .gallery-image {
      width: 90vw;
      height: 100%;
      border-radius: 5px;
    }
    .gallery-buttons-parent {
      margin-top: 10px;
      width: 100%;
      display: flex;
      flex-direction: row;
      align-items: center;
      justify-content: space-evenly;
    }
    .gallery-button {
      width: 100%;
      height: 100px;
      margin: 5px;
      border: none;
      border-radius: 5px;
      border: 2px solid black;
    }
    .gallery-button:hover {
      border: 2px solid gray;
      cursor: pointer;
    }
    .active-gallery-button {
      border: 2px solid pink;
    }
    .active-gallery-button:hover {
      border: 2px solid pink;
    }
  </style>
</head>

<body>
  <div id="app">
    <div class="page-title">
      <img src="./images/raspberry-1.png">
      <span>Razz Devs</span>
      <img src="./images/raspberry-1.png">
    </div>
    <div class="name-buttons-parent">
      <button
        v-for="dev in allDevs"
        class="name-button"
        :class="getNameButtonClass(dev.name)"
        @click="setSelectedDev(dev)"
      >{{dev.name}}</button>
    </div>

    <div class="gallery-parent">
      <div
        class="gallery-image"
        :style="getImageBgStyle(selectedImage, true)"
      ></div>
    </div>
    <div class="gallery-buttons-parent">
      <button
        v-for="(img, idx) in selectedDev.images"
        class="gallery-button"
        :class="getGalleryButtonClass(img)"
        :style="getImageBgStyle(img, false)"
        @click="setSelectedImage(img)"
      ></button>
    </div>

    <!-- end of #app -->
  </div>

  <script>
    let app = new Vue({
      el: '#app',
      data: {
        devName: 'not yet defined',
        selectedDev: {name: 'undefined', images: []},
        selectedImage: 'raspberries.jpg',
        allDevs: [
          {name: 'alian', images: []},
          {name: 'cory', images: ['cory-1.jpg', 'cory-2.jpg', 'cory-3.jpg', 'cory-4.jpg']},
          {name: 'eduardo', images: []},
          {name: 'mark', images: ['mark-1.png', 'mark-2.png', 'mark-3.png', 'mark-4.png', 'mark-5.png', 'mark-6.png']},
          {name: 'michael', images: []},
          {name: 'ray', images: ['ray-1.png', 'ray-2.png', 'ray-3.png']},
          {name: 'sylvia', images: []},
          {name: 'zsannen', images: []},
        ],
      },
      methods: {
        setSelectedDev(dev) {
          this.selectedDev = dev;
          this.selectedImage = dev?.images?.length ? dev.images[0] : 'raspberries.jpg';
        },
        setSelectedImage(img) {
          this.selectedImage = img;
        },
        getNameButtonClass(name) {
          if (name === this.selectedDev.name) return 'active-button';
          return '';
        },
        getGalleryButtonClass(img) {
          if (img === this.selectedImage) return 'active-gallery-button';
          return '';
        },
        getImageBgStyle(selectedImage, doContain) {
          return {
            backgroundImage: `url("./images/${selectedImage}")`,
            backgroundColor: 'mediumvioletred',
            backgroundPosition: 'center',
            backgroundRepeat: 'no-repeat',
            backgroundSize: doContain ? 'contain' : 'cover',
          };
        },
      },
      computed: {
      },
      mounted() {
        this.$nextTick(() => {
          console.log('mounted!');
        });
      },
    });

  </script>
</body>
</html>