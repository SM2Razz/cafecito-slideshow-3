<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Nunito&display=swap" rel="stylesheet">
  <link rel="icon" type="image/x-icon" href="./images/favicon.ico">
  <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" integrity="sha512-Fo3rlrZj/k7ujTnHg4CGR2D7kSs0v4LLanw2qksYuRlEzO+tcaEPQogQ0KaoGN26/zrn20ImR1DfuLWnOo7aBA==" crossorigin="anonymous" referrerpolicy="no-referrer" /> -->
  <link rel="stylesheet" href="styles.css">
  <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
  <title>Razz Devs</title>
</head>
<body>
  <div id="app">
    <div class="page-title">
      <img src="./images/raspberry-1.png">
      <span>Razz Devs</span>
      <img src="./images/raspberry-1.png">
    </div>
    <div class="name-buttons-parent">
      <button
        v-for="dev in allDevs"
        class="name-button"
        :class="getNameButtonClass(dev.name)"
        @click="setSelectedDev(dev)"
      >{{dev.name}}</button>
    </div>

    <div class="gallery-parent">
      <div
        class="gallery-image"
        :style="getImageBgStyle(selectedImage, true)"
      ></div>
    </div>
    <div class="gallery-buttons-parent">
      <button
        v-for="(img, idx) in selectedDev.images"
        class="gallery-button"
        :class="getGalleryButtonClass(img)"
        :style="getImageBgStyle(img, false)"
        @click="setSelectedImage(img)"
      ></button>
    </div>

    <!-- end of #app -->
  </div>

  <script>
    let app = new Vue({
      el: '#app',
      data: {
        devName: 'not yet defined',
        selectedDev: {name: 'undefined', images: []},
        selectedImage: 'raspberries.jpg',
        allDevs: [
          {name: 'alian', images: []},
          {name: 'cory', images: ['cory-1.jpg', 'cory-2.jpg', 'cory-3.jpg', 'cory-4.jpg']},
          {name: 'eduardo', images: []},
          {name: 'mark', images: ['mark-1.png', 'mark-2.png', 'mark-3.png', 'mark-4.png', 'mark-5.png', 'mark-6.png']},
          {name: 'michael', images: []},
          {name: 'ray', images: ['ray-1.png', 'ray-2.png', 'ray-3.png']},
          {name: 'sylvia', images: []},
          {name: 'zsannen', images: []},
        ],
      },
      methods: {
        setSelectedDev(dev) {
          this.selectedDev = dev;
          this.selectedImage = dev?.images?.length ? dev.images[0] : 'raspberries.jpg';
        },
        setSelectedImage(img) {
          this.selectedImage = img;
        },
        getNameButtonClass(name) {
          if (name === this.selectedDev.name) return 'active-button';
          return '';
        },
        getGalleryButtonClass(img) {
          if (img === this.selectedImage) return 'active-gallery-button';
          return '';
        },
        getImageBgStyle(selectedImage, doContain) {
          return {
            backgroundImage: `url("./images/${selectedImage}")`,
            backgroundColor: 'mediumvioletred',
            backgroundPosition: 'center',
            backgroundRepeat: 'no-repeat',
            backgroundSize: doContain ? 'contain' : 'cover',
          };
        },
      },
      computed: {
      },
      mounted() {
        this.$nextTick(() => {
          console.log('mounted!');
        });
      },
    });

  </script>
</body>
</html>